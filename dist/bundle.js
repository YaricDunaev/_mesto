(()=>{"use strict";var e={d:(t,r)=>{for(var o in r)e.o(r,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:r[o]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var r=e.g.document;if(!t&&r&&(r.currentScript&&"SCRIPT"===r.currentScript.tagName.toUpperCase()&&(t=r.currentScript.src),!t)){var o=r.getElementsByTagName("script");if(o.length)for(var n=o.length-1;n>-1&&(!t||!/^http(s?):/.test(t));)t=o[n--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})(),e.d({},{q:()=>_});const t=document.querySelector(".places__list"),r=document.querySelector(".popup_type_image"),o=r.querySelector(".popup__image"),n=r.querySelector(".popup__caption");function c(e,t){const c=document.querySelector("#card-template").content.querySelector(".card").cloneNode(!0);return c.querySelector(".card__image").src=t,c.querySelector(".card__title").textContent=e,c.querySelector(".card__like-button").addEventListener("click",(function(e){console.log(e.target),e.target.classList.toggle("card__like-button_is-active")})),c.querySelector(".card__delete-button").addEventListener("click",(function(e){e.target.closest(".card").remove()})),c.querySelector(".card__image").addEventListener("click",(function(c){_(r),o.src=t,n.textContent=e})),c}[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){t.append(c(e.name,e.link))}));const p=e.p+"images/logo.svg",u=e.p+"images/avatar.jpg";document.querySelector(".header__logo").src=p,document.querySelector(".profile__image").style.backgroundImage=`url(${u})`;const i=document.querySelector(".popup_type_edit"),l=document.querySelector(".popup_type_new-card"),a=(e,t)=>{t.validity.valid?((e,t)=>{const r=e.querySelector(`.${t.id}-error`);t.classList.remove("popup__input_type_error"),r.classList.remove("popup__input-error_active"),r.textContent=""})(e,t):((e,t,r)=>{const o=e.querySelector(`.${t.id}-error`);t.classList.add("popup__input_type_error"),o.textContent=r,o.classList.add("popup__input-error_active")})(e,t,t.validationMessage)},s=(e,t)=>{const r=e.querySelector(".popup__button");r.disabled=!t,t?r.classList.remove("popup__button_inactive"):r.classList.add("popup__button_inactive")},d=(e,t)=>!!t.every((e=>e.validity.valid));function _(e){e.classList.add("popup_is-opened"),function(e){const t=Array.from(e.querySelectorAll(".popup__input"));t.forEach((r=>{r.addEventListener("input",(()=>{a(e,r),s(e,d(e,t))}))}))}(e)}function y(e){e.classList.remove("popup_is-opened")}document.querySelector(".profile__edit-button").addEventListener("click",(function(){_(i);const e=document.querySelector(".popup__input_type_name"),t=document.querySelector(".popup__input_type_description");e.value=document.querySelector(".profile__title").textContent,t.value=document.querySelector(".profile__description").textContent})),i.querySelector(".popup__button").addEventListener("click",(function(e){e.preventDefault();const t=document.querySelector(".profile__title"),r=document.querySelector(".profile__description");t.textContent=document.querySelector(".popup__input_type_name").value,r.textContent=document.querySelector(".popup__input_type_description").value,y(i)})),i.querySelector(".popup__close").addEventListener("click",(function(){y(i)})),document.querySelector(".profile__add-button").addEventListener("click",(function(){_(l);const e=document.querySelector(".popup__input_type_card-name"),t=document.querySelector(".popup__input_type_url");a(l,e),a(l,t),s(l,d(l,Array.from(l.querySelectorAll(".popup__input"))))})),l.querySelector(".popup__button").addEventListener("click",(function(e){e.preventDefault();const r=document.querySelector(".popup__input_type_card-name"),o=document.querySelector(".popup__input_type_url");console.log("элементы выбраны"),t.prepend(c(r.value,o.value)),y(l)})),l.querySelector(".popup__close").addEventListener("click",(function(){y(l)})),r.querySelector(".popup__close").addEventListener("click",(function(){y(r)})),Array.from(document.querySelectorAll(".popup")).forEach((e=>{e.addEventListener("click",(t=>{t.target===e&&y(e)}))})),document.addEventListener("keydown",(e=>{!function(e){"Escape"===e.key&&y(document.querySelector(".popup_is-opened"))}(e)}))})();